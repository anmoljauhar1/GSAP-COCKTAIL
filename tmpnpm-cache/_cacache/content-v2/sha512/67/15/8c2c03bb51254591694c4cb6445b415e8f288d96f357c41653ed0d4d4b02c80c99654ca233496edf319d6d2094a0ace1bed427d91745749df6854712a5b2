{"_id":"@gsap/react","_rev":"7-f992d3a4207ae7fb48d4c4bdd72dac34","name":"@gsap/react","dist-tags":{"latest":"2.1.2"},"versions":{"1.0.0":{"name":"@gsap/react","version":"1.0.0","keywords":["react","gsap","useeffect","uselayouteffect","usegsap","animation","greensock","javascript"],"author":{"url":"jack@greensock.com","name":"Jack Doyle"},"license":"SEE LICENSE AT https://gsap.com/standard-license","_id":"@gsap/react@1.0.0","maintainers":[{"name":"greensock","email":"info@greensock.com"}],"homepage":"https://github.com/greensock/react#readme","bugs":{"url":"https://gsap.com/community/"},"dist":{"shasum":"20477186c59e2b4ee211a5cece43cd9ace88f094","tarball":"https://registry.npmjs.org/@gsap/react/-/react-1.0.0.tgz","fileCount":4,"integrity":"sha512-PsvIfk2KM2WZAPUcvKmfLmtYlY2QGpx+rsn3ArlJJTebUEieWK0i0XJOZdPEjtFfuvC3eyoajUS4hz+BWhQA0g==","signatures":[{"sig":"MEUCIQDYNSxl5JBsz5FymCynTzsIfjKIKIpU3odRCRYUvSj33QIgD0HCcs6+zXJ+UYN/3qCKaM4JIVKQgAbHPHb5Ffz9H+U=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":9353},"main":"./src/index.js","types":"./types/index.d.ts","module":"./src/index.js","gitHead":"07aefc06712dc24e3f7edaabf9ba1acc72802f2d","_npmUser":{"name":"greensock","email":"info@greensock.com"},"repository":{"url":"git+https://github.com/greensock/react.git","type":"git"},"_npmVersion":"9.8.1","description":"Tools for using GSAP in React, like useGSAP() which is a drop-in replacement for useLayoutEffect()/useEffect()","directories":{},"_nodeVersion":"18.16.0","publishConfig":{"access":"public"},"_hasShrinkwrap":false,"devDependencies":{"gsap":"^3.12.2","react":"^18.2.0","react-dom":"^18.2.0"},"peerDependencies":{"react":">=16"},"_npmOperationalInternal":{"tmp":"tmp/react_1.0.0_1700070592699_0.012572631549361724","host":"s3://npm-registry-packages"}},"1.0.1":{"name":"@gsap/react","version":"1.0.1","keywords":["react","gsap","useeffect","uselayouteffect","usegsap","animation","greensock","javascript"],"author":{"url":"jack@greensock.com","name":"Jack Doyle"},"license":"SEE LICENSE AT https://gsap.com/standard-license","_id":"@gsap/react@1.0.1","maintainers":[{"name":"greensock","email":"info@greensock.com"}],"homepage":"https://github.com/greensock/react#readme","bugs":{"url":"https://gsap.com/community/"},"dist":{"shasum":"39be223dbe541843b77500b2bfedf36b5c8b3d73","tarball":"https://registry.npmjs.org/@gsap/react/-/react-1.0.1.tgz","fileCount":4,"integrity":"sha512-4pYrKhSt1ym/NTeegj6jKZKYjKei1BIcgXgTmzTT2Kbz3/wf2PMZtHJ1mEnz7foOPgG3IDRw8o+ZskEw2pEW+g==","signatures":[{"sig":"MEYCIQC3sHhZmz7jVLzCLYMfM9NKALi5vDoGu9Wy7HfcFjgkgAIhAP9Solr+5W39BY4K31/LwQXfyqONcTQy0uOAPvlcWVSX","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":11349},"main":"./src/index.js","types":"./types/index.d.ts","module":"./src/index.js","gitHead":"feea3b4a6a0aa6d4c95266cd5a5d550e2068d511","_npmUser":{"name":"greensock","email":"info@greensock.com"},"repository":{"url":"git+https://github.com/greensock/react.git","type":"git"},"_npmVersion":"9.8.1","description":"Tools for using GSAP in React, like useGSAP() which is a drop-in replacement for useLayoutEffect()/useEffect()","directories":{},"_nodeVersion":"18.16.0","publishConfig":{"access":"public"},"_hasShrinkwrap":false,"devDependencies":{"gsap":"^3.12.3","react":"^18.2.0","react-dom":"^18.2.0"},"peerDependencies":{"react":">=16"},"_npmOperationalInternal":{"tmp":"tmp/react_1.0.1_1701324526389_0.594487637501063","host":"s3://npm-registry-packages"}},"2.0.0":{"name":"@gsap/react","version":"2.0.0","keywords":["react","gsap","useeffect","uselayouteffect","usegsap","animation","greensock","javascript"],"author":{"url":"jack@greensock.com","name":"Jack Doyle"},"license":"SEE LICENSE AT https://gsap.com/standard-license","_id":"@gsap/react@2.0.0","maintainers":[{"name":"greensock","email":"info@greensock.com"}],"homepage":"https://github.com/greensock/react#readme","bugs":{"url":"https://gsap.com/community/"},"dist":{"shasum":"4ca4363d9b7a320a858a417b7d2386779be6d30a","tarball":"https://registry.npmjs.org/@gsap/react/-/react-2.0.0.tgz","fileCount":4,"integrity":"sha512-uHp2TLcJKR0jgXHIVoJOkXCzPWi32/u77iE52w1rruwr1MTt3lbUigWSpbAFDEz5fTdGn6RdcgSapiI+d+9Xdg==","signatures":[{"sig":"MEYCIQClTVPnNqvT+E84+Ayg4UmJcmeZN8n3yBih6TPCjF3mSgIhAMpZSKWlrUYs4+PSs1UfMsL2pn1bWRzc9zsf3Ltn5GaT","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":14352},"main":"./src/index.js","types":"./types/index.d.ts","module":"./src/index.js","_npmUser":{"name":"greensock","email":"info@greensock.com"},"repository":{"url":"git+https://github.com/greensock/react.git","type":"git"},"_npmVersion":"9.8.1","description":"Tools for using GSAP in React, like useGSAP() which is a drop-in replacement for useLayoutEffect()/useEffect()","directories":{},"_nodeVersion":"18.16.0","publishConfig":{"access":"public"},"_hasShrinkwrap":false,"devDependencies":{"gsap":"^3.12.3","react":"^18.2.0","react-dom":"^18.2.0"},"peerDependencies":{"react":">=16"},"_npmOperationalInternal":{"tmp":"tmp/react_2.0.0_1701935511385_0.7618679835537321","host":"s3://npm-registry-packages"}},"2.0.1":{"name":"@gsap/react","version":"2.0.1","keywords":["react","gsap","useeffect","uselayouteffect","usegsap","animation","greensock","javascript"],"author":{"url":"jack@greensock.com","name":"Jack Doyle"},"license":"SEE LICENSE AT https://gsap.com/standard-license","_id":"@gsap/react@2.0.1","maintainers":[{"name":"greensock","email":"info@greensock.com"}],"homepage":"https://github.com/greensock/react#readme","bugs":{"url":"https://gsap.com/community/"},"dist":{"shasum":"3a8dc9b72538ee682940e39806bcba11ad18f24f","tarball":"https://registry.npmjs.org/@gsap/react/-/react-2.0.1.tgz","fileCount":6,"integrity":"sha512-4omZ2nQ60j0Tr5Uajn5bxz6XWlFje/5oZkkCgREe99g8DI1ZRd4Owlf+41bklp7ujt3yOsWT4/AMZHngvDwhig==","signatures":[{"sig":"MEUCIEn7xa2mjE8ybcffV4ddXmgZbuH80wMC/Qu+KUeR+TySAiEAykuTP+RcxOudvUtXKk0U5X9zulqapoRyDc44W1d2LII=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":18265},"main":"./dist/index.js","types":"./types/index.d.ts","module":"./src/index.js","gitHead":"8e089e07c76d93c182584a6693240bc61b445a1d","_npmUser":{"name":"greensock","email":"info@greensock.com"},"repository":{"url":"git+https://github.com/greensock/react.git","type":"git"},"_npmVersion":"9.8.1","description":"Tools for using GSAP in React, like useGSAP() which is a drop-in replacement for useLayoutEffect()/useEffect()","directories":{},"_nodeVersion":"18.16.0","publishConfig":{"access":"public"},"_hasShrinkwrap":false,"devDependencies":{"gsap":"^3.12.3","react":"^18.2.0","react-dom":"^18.2.0"},"peerDependencies":{"react":">=16"},"_npmOperationalInternal":{"tmp":"tmp/react_2.0.1_1702445756555_0.6563041987018701","host":"s3://npm-registry-packages"}},"2.0.2":{"name":"@gsap/react","version":"2.0.2","keywords":["react","gsap","useeffect","uselayouteffect","usegsap","animation","greensock","javascript"],"author":{"url":"jack@greensock.com","name":"Jack Doyle"},"license":"SEE LICENSE AT https://gsap.com/standard-license","_id":"@gsap/react@2.0.2","maintainers":[{"name":"greensock","email":"info@greensock.com"}],"homepage":"https://github.com/greensock/react#readme","bugs":{"url":"https://gsap.com/community/"},"dist":{"shasum":"ec9fa2b9c25e10e3b2928c1f472d5f1e327ad383","tarball":"https://registry.npmjs.org/@gsap/react/-/react-2.0.2.tgz","fileCount":6,"integrity":"sha512-Uo2lOBlGcwmkIE9EcPdsyDfg+DRAoboVvuWgvVIrsJ2tIZHcpFab82YNV0iWj9CNfTzIqGP44ziXqsCMkc8OEw==","signatures":[{"sig":"MEUCIQC0gjeWk/IRLrO7s2YOkAOZd+NFxXfLEt77wxKNGGpshgIgGDBGj+sZvNGrglySfrIDzdXnfUELro2GHeiMmeaW/yA=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":18375},"main":"./dist/index.js","types":"./types/index.d.ts","module":"./src/index.js","gitHead":"331a48870ddbc7ae945998d9720d367dc8fe6744","_npmUser":{"name":"greensock","email":"info@greensock.com"},"repository":{"url":"git+https://github.com/greensock/react.git","type":"git"},"_npmVersion":"9.8.1","description":"Tools for using GSAP in React, like useGSAP() which is a drop-in replacement for useLayoutEffect()/useEffect()","directories":{},"_nodeVersion":"18.16.0","publishConfig":{"access":"public"},"_hasShrinkwrap":false,"devDependencies":{"gsap":"^3.12.3","react":"^18.2.0","react-dom":"^18.2.0"},"peerDependencies":{"react":">=16"},"_npmOperationalInternal":{"tmp":"tmp/react_2.0.2_1702496176494_0.7179387297661142","host":"s3://npm-registry-packages"}},"2.1.0":{"name":"@gsap/react","version":"2.1.0","keywords":["react","gsap","useeffect","uselayouteffect","usegsap","animation","greensock","javascript"],"author":{"url":"jack@greensock.com","name":"Jack Doyle"},"license":"SEE LICENSE AT https://gsap.com/standard-license","_id":"@gsap/react@2.1.0","maintainers":[{"name":"greensock","email":"info@greensock.com"}],"homepage":"https://github.com/greensock/react#readme","bugs":{"url":"https://gsap.com/community/"},"dist":{"shasum":"fe65901d64c00d2eea4e3e8b571ae293d781622f","tarball":"https://registry.npmjs.org/@gsap/react/-/react-2.1.0.tgz","fileCount":6,"integrity":"sha512-pwdFXvOM5IsRZXpWTKkQoEjb3/iUjDCU1BCJDlE6pHgVjG+7Ep/7+sszUgqVZ2Jc0mR8gnhtDWyx5cQAT4kwQw==","signatures":[{"sig":"MEUCIG13jwpWK1+YEo3fb6hwjIjoqTi9MnZYFPmzEKldVyy3AiEAloryZuAem9cDpg+XsA4gY/10F+yjcV/9fNHBKIS9Zzs=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":18654},"main":"./dist/index.js","types":"./types/index.d.ts","module":"./src/index.js","gitHead":"76b31bc15109c46641066748dcf84df359f9ce26","_npmUser":{"name":"greensock","email":"info@greensock.com"},"repository":{"url":"git+https://github.com/greensock/react.git","type":"git"},"_npmVersion":"9.8.1","description":"Tools for using GSAP in React, like useGSAP() which is a drop-in replacement for useLayoutEffect()/useEffect()","directories":{},"_nodeVersion":"18.16.0","dependencies":{"gsap":"^3.12.4","react":">=16"},"publishConfig":{"access":"public"},"_hasShrinkwrap":false,"_npmOperationalInternal":{"tmp":"tmp/react_2.1.0_1705617498798_0.7966511036105932","host":"s3://npm-registry-packages"}},"2.1.1":{"name":"@gsap/react","version":"2.1.1","keywords":["react","gsap","useeffect","uselayouteffect","usegsap","animation","greensock","javascript"],"author":{"url":"jack@greensock.com","name":"Jack Doyle"},"license":"SEE LICENSE AT https://gsap.com/standard-license","_id":"@gsap/react@2.1.1","maintainers":[{"name":"greensock","email":"info@greensock.com"}],"homepage":"https://github.com/greensock/react#readme","bugs":{"url":"https://gsap.com/community/"},"dist":{"shasum":"219a81c84f93a2631c8aa324c0f5cce03cdf2ed9","tarball":"https://registry.npmjs.org/@gsap/react/-/react-2.1.1.tgz","fileCount":6,"integrity":"sha512-apGPRrmpqxvl1T6Io1KgT8tFU+IuACI6z4zmT7t8+PASserJeLVRFJdSNUFA2Xb/eVkZI1noE8LIrY/w/oJECw==","signatures":[{"sig":"MEQCIHSmhdjvW448nnBqtvDhsuvrxSVRbzH6Tyk/usuZcr9cAiBGg+1FhPEoCINN64Vfio8qGdRt630U01GJN3Ds+74oLw==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":18880},"main":"./dist/index.js","types":"./types/index.d.ts","module":"./src/index.js","gitHead":"b00905d1e00ce0b873e6c4b0cb09770254836b55","_npmUser":{"name":"greensock","email":"info@greensock.com"},"repository":{"url":"git+https://github.com/greensock/react.git","type":"git"},"_npmVersion":"10.5.1","description":"Tools for using GSAP in React, like useGSAP() which is a drop-in replacement for useLayoutEffect()/useEffect()","directories":{},"_nodeVersion":"20.11.1","dependencies":{"gsap":"^3.12.5","react":">=16"},"publishConfig":{"access":"public"},"_hasShrinkwrap":false,"_npmOperationalInternal":{"tmp":"tmp/react_2.1.1_1713909431067_0.023602678907505226","host":"s3://npm-registry-packages"}},"2.1.2":{"name":"@gsap/react","version":"2.1.2","description":"Tools for using GSAP in React, like useGSAP() which is a drop-in replacement for useLayoutEffect()/useEffect()","main":"./dist/index.js","module":"./src/index.js","types":"./types/index.d.ts","keywords":["react","gsap","useeffect","uselayouteffect","usegsap","animation","greensock","javascript"],"author":{"name":"Jack Doyle","url":"jack@greensock.com"},"license":"SEE LICENSE AT https://gsap.com/standard-license","peerDependencies":{"gsap":"^3.12.5","react":">=17"},"bugs":{"url":"https://gsap.com/community/"},"repository":{"type":"git","url":"git+https://github.com/greensock/react.git"},"publishConfig":{"access":"public"},"homepage":"https://github.com/greensock/react#readme","_id":"@gsap/react@2.1.2","gitHead":"b7f44ca767eb93390f965d6f19679e2b77be7966","_nodeVersion":"20.11.1","_npmVersion":"10.9.1","dist":{"integrity":"sha512-JqliybO1837UcgH2hVOM4VO+38APk3ECNrsuSM4MuXp+rbf+/2IG2K1YJiqfTcXQHH7XlA0m3ykniFYstfq0Iw==","shasum":"bfc055a41b402e8d1dc56839e9d077407027b0a0","tarball":"https://registry.npmjs.org/@gsap/react/-/react-2.1.2.tgz","fileCount":6,"unpackedSize":19128,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIGdrnrnJvHf3uAHeWVm+/89L1v1qHydGnN7eVjf+bRqcAiB9JcZIS/KG4F4rjn8eVNbAAu6ncAXfXiMX7YWLA0cCSQ=="}]},"_npmUser":{"name":"greensock","email":"info@greensock.com"},"directories":{},"maintainers":[{"name":"greensock","email":"info@greensock.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages-npm-production","tmp":"tmp/react_2.1.2_1736980339120_0.9886951113882092"},"_hasShrinkwrap":false}},"time":{"created":"2023-11-15T17:49:52.584Z","modified":"2025-01-15T22:32:19.504Z","1.0.0":"2023-11-15T17:49:52.947Z","1.0.1":"2023-11-30T06:08:46.558Z","2.0.0":"2023-12-07T07:51:51.605Z","2.0.1":"2023-12-13T05:35:56.834Z","2.0.2":"2023-12-13T19:36:16.725Z","2.1.0":"2024-01-18T22:38:18.962Z","2.1.1":"2024-04-23T21:57:11.234Z","2.1.2":"2025-01-15T22:32:19.294Z"},"bugs":{"url":"https://gsap.com/community/"},"author":{"name":"Jack Doyle","url":"jack@greensock.com"},"license":"SEE LICENSE AT https://gsap.com/standard-license","homepage":"https://github.com/greensock/react#readme","keywords":["react","gsap","useeffect","uselayouteffect","usegsap","animation","greensock","javascript"],"repository":{"type":"git","url":"git+https://github.com/greensock/react.git"},"description":"Tools for using GSAP in React, like useGSAP() which is a drop-in replacement for useLayoutEffect()/useEffect()","maintainers":[{"name":"greensock","email":"info@greensock.com"}],"readme":"# @gsap/react for using GSAP in React\n\n[![Using GSAP in React](https://gsap.com/_img/github/gsap-react-main.png)](https://gsap.com/resources/React)\n\n<a href=\"https://gsap.com\">GSAP</a> itself is **completely framework-agnostic** and can be used in any JS framework without any special wrappers or dependencies. This hook solves a few **React-specific** friction points so that you can just focus on the fun stuff. 🤘🏻\n\n## `useGSAP()`\n\nA drop-in replacement for <a href=\"https://react.dev/reference/react/useEffect\">`useEffect()`</a> or <a href=\"https://react.dev/reference/react/useLayoutEffect\">`useLayoutEffect()`</a> that automatically handles cleanup using <a href=\"https://gsap.com/docs/v3/GSAP/gsap.context()\">`gsap.context()`</a>\n\n### ❌ OLD (without useGSAP() hook)\n```javascript\nimport { useEffect, useLayoutEffect, useRef } from \"react\";\nimport gsap from \"gsap\";\n\n// for server-side rendering apps, useEffect() must be used instead of useLayoutEffect()\nconst useIsomorphicLayoutEffect = (typeof window !== \"undefined\") ? useLayoutEffect : useEffect;\nconst container = useRef();\nuseIsomorphicLayoutEffect(() => {\n    const ctx = gsap.context(() => {\n\t    // gsap code here...\n        }, container); // <-- scope for selector text\n    return () => ctx.revert(); // <-- cleanup\n}, []); // <-- empty dependency Array so it doesn't get called on every render\n```\n\n### ✅ NEW\n```javascript \nimport { useRef } from \"react\";\nimport gsap from \"gsap\";\nimport { useGSAP } from \"@gsap/react\";\n\ngsap.registerPlugin(useGSAP); // register any plugins, including the useGSAP hook\n\nconst container = useRef();\nuseGSAP(() => {\n    // gsap code here...\n}, { scope: container }); // <-- scope is for selector text (optional)\n```\n\n### ...or with a dependency Array and scope:\n\n```javascript\nuseGSAP(() => {\n    // gsap code here...\n}, { dependencies: [endX], scope: container}); // config object offers maximum flexibility\n```\n\nIf you prefer the method signature of `useEffect()` and you don't need to define a scope, this works too but the `config` object syntax is preferred because it offers more flexibility and readability:\n\n```javascript\nuseGSAP(() => {\n    // gsap code here...\n}, [endX]); // works, but less flexible than the config object\n```\n\nSo you can use **any** of these method signatures: \n```javascript\n// config object for defining things like scope, dependencies, and revertOnUpdate (most flexible)\nuseGSAP(func, config);\n// exactly like useEffect()\nuseGSAP(func);\nuseGSAP(func, dependencies);\n// primarily for event handlers and other external uses (read about contextSafe() below)\nconst { context, contextSafe } = useGSAP(config);\n```\n\nIf you define `dependencies`, the GSAP-related objects (animations, ScrollTriggers, etc.) will only get reverted when the hook gets torn down but if you want them to get reverted **every time the hook updates** (when any dependency changes), you can set `revertOnUpdate: true` in the `config` object.\n\n```javascript\nuseGSAP(() => {\n    // gsap code here...\n}, { dependencies: [endX], scope: container, revertOnUpdate: true });\n```\n\n## Benefits\n- Automatically handles cleanup using <a href=\"https://gsap.com/docs/v3/GSAP/gsap.context()\">`gsap.context()`</a>\n- Implements `useIsomorphicLayoutEffect()` technique, preferring React's `useLayoutEffect()` but falling back to `useEffect()` if `window` isn't defined, making it safe to use in server-side rendering environments.\n- You may optionally define a `scope` for selector text, making it safer/easier to write code that doesn't require you to create a `useRef()` for each and every element you want to animate.\n- Defaults to using an empty dependency Array in its simplest form, like `useGSAP(() => {...})` because so many developers forget to include that empty dependency Array on React's `useLayoutEffect(() => {...}, [])` which resulted in the code being executed on every component render.\n- Exposes convenient references to the `context` instance and the `contextSafe()` function as method parameters as well as object properties that get returned by the `useGSAP()` hook, so it's easier to set up standard React event handlers. \n\n## Install\n\n```bash\nnpm install @gsap/react\n```\n\nAt the top of your code right below your imports, it's usually a good idea to register `useGSAP` as a plugin:\n```javascript\ngsap.registerPlugin(useGSAP);\n```\n\n## Using callbacks or event listeners? Use `contextSafe()` and clean up!\n\nA function is considered \"context-safe\" if it is properly scoped to a <a href=\"https://gsap.com/docs/v3/GSAP/gsap.context()\">`gsap.context()`</a> so that any GSAP-related objects created **while that function executes** are recorded by that `Context` and use its `scope` for selector text. When that `Context` gets reverted (like when the hook gets torn down or re-synchronizes), so will all of those GSAP-related objects. Cleanup is important in React and `Context` makes it simple. Otherwise, you'd need to manually keep track of all your animations and `revert()` them when necessary, like when the entire component gets unmounted/remounted. `Context` does that work for you.\n\nThe main `useGSAP(() => {...})` function is automatically context-safe of course. But if you're creating functions that get called **AFTER** the main `useGSAP()` function executes (like click event handlers, something in a `setTimeout()`, or anything delayed), you need a way to make those functions context-safe. Think of it like telling the `Context` when to hit the \"record\" button for any GSAP-related objects. \n\n**Solution**: wrap those functions in the provided `contextSafe()` to associates them with the `Context`. `contextSafe()` accepts a function and returns a new context-safe version of that function.\n\nThere are two ways to access the `contextSafe()` function: \n\n#### 1) Using the returned object property (for outside `useGSAP()` function)\n\n```JSX\nconst container = useRef();\n\nconst { contextSafe } = useGSAP({scope: container}); // we can just pass in a config object as the 1st parameter to make scoping simple\n\n// ❌ DANGER! Not wrapped in contextSafe() so GSAP-related objects created inside this function won't be bound to the context for automatic cleanup when it's reverted. Selector text isn't scoped to the container either.\nconst onClickBad = () => {\n          gsap.to(\".bad\", {y: 100});\n      };\n\n// ✅ wrapped in contextSafe() so GSAP-related objects here will be bound to the context and automatically cleaned up when the context gets reverted, plus selector text is scoped properly to the container.\nconst onClickGood = contextSafe(() => {\n          gsap.to(\".good\", {rotation: 180});\n      });\n\nreturn (\n    <div ref={container}>\n        <button onClick={onClickBad} className=\"bad\"></button>\n        <button onClick={onClickGood} className=\"good\"></button>\n    </div>\n);\n```\n\n### 2) Using the 2nd argument (for inside `useGSAP()` function)\n\n```JSX\nconst container = useRef();\nconst badRef = useRef();\nconst goodRef = useRef();\n\nuseGSAP((context, contextSafe) => { // <-- there it is\n\t\n    // ✅ safe, created during execution\n    gsap.to(goodRef.current, {x: 100}); \n    \n    // ❌ DANGER! This animation is created in an event handler that executes AFTER the useGSAP() executes, thus it's not added to the context so it won't get cleaned up (reverted). The event listener isn't removed in cleanup function below either, so it persists between component renders (bad).\n    badRef.current.addEventListener(\"click\", () => {\n        gsap.to(badRef.current, {y: 100}); \n    });\n\t\n    // ✅ safe, wrapped in contextSafe() function and we remove the event listener in the cleanup function below. 👍\n    const onClickGood = contextSafe(() => {\n                gsap.to(goodRef.current, {rotation: 180});\n            });\n    goodRef.current.addEventListener(\"click\", onClickGood);\n\t\n    return () => { // <-- cleanup (remove listeners here)\n        goodRef.current.removeEventListener(\"click\", onClickGood);\n    };\n}, {scope: container});\nreturn (\n\t<div ref={container}>\n\t\t<button ref={badRef}></button>\n\t\t<button ref={goodRef}></button>\n\t</div>\n);\n```\n\n\n\n## `scope` for selector text\n\nYou can optionally define a `scope` in the `config` object as a <a href=\"https://react.dev/reference/react/useRef\">React Ref</a> and then any selector text in the `useGSAP()` <a href=\"https://gsap.com/docs/v3/GSAP/gsap.context()\">`Context`</a> will be scoped to that particular Ref, meaning it will be limited to finding **descendants** of that element. This can greatly simplify your code. No more creating a Ref for every element you want to animate! And you don't need to worry about selecting elements outside your component instance.\n\n### Example using Refs (tedious) 😩\n```JSX\nconst container = useRef();\nconst box1 = useRef(); // ugh, so many refs!\nconst box2 = useRef();\nconst box3 = useRef();\n\nuseGSAP(() => {\n    gsap.from([box1, box2, box3], {opacity: 0, stagger: 0.1});\n});\n\nreturn (\n    <div ref={container}>\n        <div ref={box1} className=\"box\"></div>\n        <div ref={box2} className=\"box\"></div>\n        <div ref={box3} className=\"box\"></div>\n    </div>\n);\n```\n\n### Example using scoped selector text (simple) 🙂\n```JSX\n// we only need one ref, the container. Use selector text for the rest (scoped to only find descendants of container).\nconst container = useRef();\n\nuseGSAP(() => {\n    gsap.from(\".box\", {opacity: 0, stagger: 0.1});\n}, { scope: container }); // <-- magic\n\nreturn (\n    <div ref={container}>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n    </div>\n);\n```\n\n## Demos and starter templates\n<a href=\"https://stackblitz.com/@gsap-dev/collections/gsap-react-starters\">https://stackblitz.com/@gsap-dev/collections/gsap-react-starters</a>\n\n\n## Need help?\nAsk in the friendly <a href=\"https://gsap.com/community/\">GSAP forums</a>. Or share your knowledge and help someone else - it's a great way to sharpen your skills! Report any bugs there too (or <a href=\"https://github.com/greensock/GSAP/issues\">file an issue here</a> if you prefer).\n\n### License\nGreenSock's standard \"no charge\" license can be viewed at <a href=\"https://gsap.com/standard-license\">https://gsap.com/standard-license</a>. <a href=\"https://gsap.com/pricing/\">Club GSAP</a> members are granted additional rights. See <a href=\"https://gsap.com/licensing/\">https://gsap.com/licensing/</a> for details. Why doesn't GSAP use an MIT (or similar) open source license, and why is that a **good** thing? This article explains it all: <a href=\"https://gsap.com/why-license/\" target=\"_blank\">https://gsap.com/why-license/</a>\n\nCopyright (c) 2008-2025, GreenSock. All rights reserved. ","readmeFilename":"README.md"}